source "http://rubygems.org"

path "~/card-mods/.semaphore/decko" do
  gem "decko"
  gem "card", require: false
  gem "cardname"
end

gem "mysql2", '~> 0.5'
gem "thin"

def card_mods_in dir
  Dir.chdir "#{Dir.home}/#{dir}" do
    Dir.glob("card-mod-*").each do |mod|
      gem mod
    end
  end
end

path "~/card-mods/.semaphore/decko/mod" do
  card_mods_in "card-mods/.semaphore/decko/mod"
end

path "~/card-mods/.semaphore/decko/support" do
  gem "decko-rspec", group: :test
  gem "decko-cypress", group: :cypress
end

# gem "decko-cucumber", group: :cucumber, path: "~/dev/decko/gem/support"
# gem "decko-profile", group: :profile, path: "~/dev/decko/gem/support"
# gem "decko-spring", path: "~/dev/decko/gem/support"

path "~/card-mods" do
  card_mods_in "card-mods"
end
