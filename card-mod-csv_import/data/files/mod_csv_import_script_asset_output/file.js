// import_map.js.coffee
(function(){var t,n,e,a,i,r,o,c,u,s,d,m,p,f,h,l,v,b;$(document).ready(function(){return $("body").on("click","._import-map-status-option",function(t){var n,e;return n=$(this),e=n.data("status"),c(n).find("#_import-map-item-checkbox:visible").each(function(){return l($(this),e)}),t.preventDefault()}),$("body").on("click","._import-map-action-option",function(n){var a,r;switch(a=$(this).data("action"),r=c($(this)),!1){case"show"!==a:f(r);break;case"showonly"!==a:e(r,":not(:checked)",i);break;default:e(r,":checked",t[a])}return n.preventDefault()}),$("body").on("click","._create-import-item",function(){var t;return(t=$(this)).hasClass("active")?n(t):m(t)}),$("body").on("click","._save-mapping",function(){return $(".tab-pane-import_status_tab").html(""),$(".TYPE-answer_import.page-view > .tabbable > .nav > .nav-item:nth-child(2) > .nav-link").addClass("load")}),$("body").on("decko.filter.selection","._suggest-link",function(t,n){var e;return e=$(n.firstChild).data(),d($(this),e.cardName)})}),e=function(t,n,e){return t.find("#_import-map-item-checkbox"+n).each(function(){return e($(this).closest("._import-map-item"))})},f=function(t){return t.find("._import-map-item").show()},o=function(t){return r(t).find("._import-mapping")},u=function(t){return r(t).find("._mapping-label")},p=function(t){return r(t).find("._saved-mapping")},c=function(t){return t.closest(".tab-pane").find("._import-table")},r=function(t,n){return t.closest("._import-map-item"+(n||""))},a=function(t,n){return r(t,"[data-status='"+n+"']").length>0},l=function(t,n){var e;return e=function(){switch(!1){case"all"!==n:return!0;case"none"!==n:return!1;default:return a(t,n)}}(),t.prop("checked",e)},s=function(t){return r(t).find("._item-name-in-import-file").text()},b=function(t,n){var e;return(e=r(t)).attr("data-status",n),e.find("._import-map-status-label").text(h[n])},v=function(t,n,e){var a;return(a=u(t)).html("<strong>"+n+"</strong>: "+e),a.show()},d=function(t,n){return o(t).val(n),p(t).hide(),v(t,"New",n),b(t,"matched")},t={hide:i=function(t){return t.find("#_import-map-item-checkbox").prop("checked",!1),t.hide()},create:n=function(t){return o(t).val("AutoAdd"),p(t).hide(),v(t,"Create",s(t)),b(t,"matched")},reset:m=function(t){var n;return n=r(t),p(t).show(),u(t).hide(),b(t,n.data("savedstatus")),o(t).val(n.data("savedmapping"))}},h={matched:"Match",suggested:"Pending",unmatched:"No Match"}}).call(this);
// import_status.js.coffee
(function(){var t;$(document).ready(function(){return $("body").on("click","._import-status-form ._check-all",function(){var o;return o=$(this).is(":checked"),t($(this).closest("._import-status-form"),o)}),$("body").on("click","._import-status-refresh",function(){var t,o;return t=(o=$(this).slot()).find(".nav-link.active").data("tab-name"),o.slotReload(o.slotUrl()+"&tab="+t)})}),t=function(t,o){return t.find("._import-row-checkbox").prop("checked",o)}}).call(this);